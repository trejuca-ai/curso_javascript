<!-- Ejercicio 10. Agregar una función para el botón del formulario para que recoja los valores
del usuario y los muestre en consola. -->

<!DOCTYPE html>
<html>
<head>
	<meta charset="ISO-8859-1">
	<title>Insert title here</title>
	<script type="text/javascript" src="eventos.js"></script>

</head>
<body id="cuerpo">
	<div>
		<h3>Formulario de captura</h3>
		<label>Nombre:</label>
		<input type="text" name="nombre" id="nombre"><br>
		<label>Primer apellido:</label>
		<input type="text" name="primer_apellido" id="primer_apellido"><br>
		<label>Segundo apellido:</label>
		<input type="text" name="segundo_apellido" id="segundo_apellido"><br>
		<label>Edad:</label>
		<input type="number" name="edad" id="edad"><br>
		<input type="hidden" name="valor_auxiliar" id="valor_auxiliar" value=0><br>
		
		<button id="guardar">Guardar usuario</button>
	</div>
	
	<script type="text/javascript">
		
		const data = {}
		
		document.querySelector("#guardar").addEventListener('click', function() {
			
			/* Recuperar los valores uno a uno
			
 			const nombre = document.getElementById("nombre").value
			const primer_apellido = document.getElementById("primer_apellido").value
			const segundo_apellido = document.getElementById("segundo_apellido").value
			const edad = document.getElementById("edad").value */

			// Recuperar los valores en un ciclo			
			let llave = ""
			document.querySelectorAll("input[type=text],input[type=number]")				
				.forEach(function(elemento, index) {
					if (llave in data) {
						let valor = elemento.value
						let llaveObjeto = elemento.id
						
						data[llave][llaveObjeto] = valor

					} else {
						data[elemento.value] = {}
						llave = elemento.value
					}
				})
			console.log(data)
		})
	</script>
</body>

</html>